<!DOCTYPE html>
<html>
<head>
  <title>Lead Generator</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-search-dollar"></i>
          <h1>Lead Generator</h1>
        </div>
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number" id="total-leads-stat">0</span>
            <span class="stat-label">Total Leads</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="queue-stat">0</span>
            <span class="stat-label">In Queue</span>
          </div>
        </div>
      </div>
    </header>

    <nav class="tab-navigation">
      <button class="tab-btn active" data-tab="search" data-guide-step="1">
        <i class="fas fa-search"></i>
        <span>Search</span>
      </button>
      <button class="tab-btn" data-tab="crawl" data-guide-step="4">
        <i class="fas fa-cogs"></i>
        <span>Crawl</span>
      </button>
      <button class="tab-btn" data-tab="leads" data-guide-step="6">
        <i class="fas fa-users"></i>
        <span>Leads</span>
      </button>
      <button class="tab-btn" data-tab="filters" data-guide-step="7">
        <i class="fas fa-filter"></i>
        <span>Filters</span>
      </button>
      <button class="tab-btn" data-tab="settings" data-guide-step="8">
        <i class="fas fa-sliders-h"></i>
        <span>Settings</span>
      </button>
      <button class="guide-btn" id="start-guide-btn" title="Start Interactive Guide">
        <i class="fas fa-question-circle"></i>
      </button>
    </nav>

    <main class="tab-content">
      <!-- Search Tab -->
      <div class="tab-panel active" id="search-tab">
        <div class="panel-header">
          <h2><i class="fas fa-search"></i> Template Library</h2>
          <p>Choose from thousands of pre-built search templates organized by category</p>
        </div>

        <!-- Quick Start Guide -->
        <div class="quick-start-card" id="quick-start-card">
          <div class="quick-start-header">
            <div class="quick-start-title">
              <i class="fas fa-rocket"></i>
              Quick Start Guide
            </div>
            <button class="quick-start-close" id="quick-start-close">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="quick-start-steps">
            1. Choose a template library → 2. Select templates → 3. Add to queue → 4. Start crawling → 5. View leads
          </div>
          <div class="quick-start-actions">
            <button class="quick-start-btn" id="quick-start-guide-btn">
              <i class="fas fa-play"></i>
              Interactive Guide
            </button>
            <button class="quick-start-btn" id="quick-start-demo-btn">
              <i class="fas fa-magic"></i>
              Try Demo
            </button>
          </div>
        </div>
        
        <!-- Template Library Selector -->
        <div class="library-selector">
          <div class="library-stats">
            <div class="stat-summary">
              <span class="total-templates" id="total-templates">0</span>
              <span class="stat-label">Total Templates</span>
              <div class="help-tooltip" data-tooltip="This shows the total number of templates available in the selected library">
                <i class="fas fa-question-circle"></i>
              </div>
            </div>
            <div class="library-dropdown">
              <label for="template-library-select">Template Library:</label>
              <select id="template-library-select" data-guide-step="2">
                <option value="assets/templates_2025_adv.json">Advanced 2025 (General) - 15 templates</option>
                <option value="assets/it jobs.json">IT Jobs (Comprehensive) - 1000+ templates</option>
                <option value="assets/it-jobs json">IT Jobs Extended (Global) - 500+ templates</option>
                <option value="assets/univercal.json">Universal Templates (All Categories) - 25 templates</option>
              </select>
              <div class="help-tooltip" data-tooltip="Choose different template collections. IT Jobs libraries contain thousands of job-specific search templates.">
                <i class="fas fa-info-circle"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Smart Filters -->
        <div class="smart-filters">
          <div class="filter-section">
            <label>Quick Categories:</label>
            <div class="category-chips" data-guide-step="3">
              <button class="category-chip active" data-category="all">
                <i class="fas fa-th"></i>
                <span>All</span>
                <span class="chip-count" id="all-count">0</span>
              </button>
              <button class="category-chip" data-category="Jobs & Sectors">
                <i class="fas fa-briefcase"></i>
                <span>Jobs</span>
                <span class="chip-count" id="jobs-count">0</span>
              </button>
              <button class="category-chip" data-category="Technology">
                <i class="fas fa-laptop-code"></i>
                <span>Tech</span>
                <span class="chip-count" id="tech-count">0</span>
              </button>
              <button class="category-chip" data-category="India">
                <i class="fas fa-map-marker-alt"></i>
                <span>India</span>
                <span class="chip-count" id="india-count">0</span>
              </button>
              <button class="category-chip" data-category="Remote">
                <i class="fas fa-home"></i>
                <span>Remote</span>
                <span class="chip-count" id="remote-count">0</span>
              </button>
            </div>
          </div>
          
          <div class="search-controls">
            <div class="search-input-group">
              <i class="fas fa-search"></i>
              <input type="text" id="template-search" placeholder="Search templates by keywords, location, role...">
            </div>
            <div class="view-controls">
              <button class="view-btn active" data-view="grid" title="Grid View">
                <i class="fas fa-th"></i>
              </button>
              <button class="view-btn" data-view="list" title="List View">
                <i class="fas fa-list"></i>
              </button>
              <button class="view-btn" data-view="compact" title="Compact View">
                <i class="fas fa-bars"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="search-content">
          <!-- Template Display Area -->
          <div class="templates-section">
            <div class="templates-header">
              <div class="templates-info">
                <span class="showing-count" id="showing-count">Showing 0 of 0 templates</span>
                <div class="sort-controls">
                  <label for="sort-select">Sort by:</label>
                  <select id="sort-select">
                    <option value="relevance">Relevance</option>
                    <option value="category">Category</option>
                    <option value="location">Location</option>
                    <option value="sector">Sector</option>
                  </select>
                </div>
              </div>
              <div class="bulk-actions">
                <button id="select-all-visible-btn" class="btn-outline">
                  <i class="fas fa-check-square"></i>
                  Select All Visible
                </button>
                <button id="add-selected-btn" class="btn-primary" disabled>
                  <i class="fas fa-plus"></i>
                  Add Selected (<span id="selected-count">0</span>)
                </button>
              </div>
            </div>
            
            <div id="templates-container" class="templates-display grid-view" data-guide-step="4">
              <!-- Templates will be loaded here -->
            </div>
            
            <!-- Pagination -->
            <div class="pagination-container" id="pagination-container">
              <div class="pagination-info">
                <span id="pagination-info">Page 1 of 1</span>
              </div>
              <div class="pagination-controls">
                <button id="prev-page-btn" class="btn-outline" disabled>
                  <i class="fas fa-chevron-left"></i>
                  Previous
                </button>
                <div class="page-numbers" id="page-numbers"></div>
                <button id="next-page-btn" class="btn-outline" disabled>
                  Next
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
          </div>

          <!-- Quick Actions Sidebar -->
          <div class="quick-actions-sidebar">
            <div class="sidebar-section">
              <h4><i class="fas fa-plus"></i> Quick Add</h4>
              <div class="custom-query-form">
                <div class="form-group">
                  <label for="custom-query-input">Custom Query</label>
                  <textarea id="custom-query-input" rows="3" placeholder="Enter your search query..."></textarea>
                </div>
                <div class="form-group">
                  <label for="custom-sector">Sector</label>
                  <select id="custom-sector">
                    <option value="Technology">Technology</option>
                    <option value="Finance">Finance</option>
                    <option value="Healthcare">Healthcare</option>
                    <option value="Education">Education</option>
                    <option value="Marketing">Marketing</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="custom-location">Location</label>
                  <input type="text" id="custom-location" placeholder="e.g., India, Remote">
                </div>
                <button id="add-custom-query-btn" class="btn-secondary">
                  <i class="fas fa-plus"></i>
                  Add to Queue
                </button>
              </div>
            </div>

            <div class="sidebar-section">
              <h4><i class="fas fa-star"></i> Popular Templates</h4>
              <div id="popular-templates" class="popular-list">
                <!-- Popular templates will be loaded here -->
              </div>
            </div>

            <div class="sidebar-section">
              <h4><i class="fas fa-history"></i> Recently Used</h4>
              <div id="recent-templates" class="recent-list">
                <!-- Recent templates will be loaded here -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Crawl Tab -->
      <div class="tab-panel" id="crawl-tab">
        <div class="panel-header">
          <h2><i class="fas fa-cogs"></i> Crawl Management</h2>
          <p>Configure and manage your crawling operations</p>
        </div>

        <div class="crawl-grid">
          <div class="crawl-section">
            <div class="section-header">
              <h3>Crawl Queue</h3>
              <span class="queue-badge" id="queue-count-badge">0</span>
            </div>
            <div id="queue-container" class="queue-list"></div>
            <div class="queue-actions">
              <button id="start-crawl-btn" class="btn-success">
                <i class="fas fa-play"></i>
                Start Crawl
              </button>
              <button id="clear-queue-btn" class="btn-outline">
                <i class="fas fa-trash"></i>
                Clear Queue
              </button>
            </div>
          </div>

          <div class="crawl-section">
            <h3>Crawl Status</h3>
            <div id="crawl-status-container" class="status-container">
              <div class="status-item">
                <span class="status-label">Status:</span>
                <span class="status-value" id="crawl-status">Idle</span>
              </div>
              <div class="status-item">
                <span class="status-label">Progress:</span>
                <span class="status-value" id="crawl-progress">Ready to start</span>
              </div>
              <div class="progress-bar-container">
                <div class="progress-bar">
                  <div class="progress-bar-fill" id="progress-fill"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Leads Tab -->
      <div class="tab-panel" id="leads-tab">
        <div class="panel-header">
          <h2><i class="fas fa-users"></i> Extracted Leads</h2>
          <p>View, filter, and export your discovered leads</p>
        </div>

        <div class="leads-toolbar">
          <div class="leads-search">
            <div class="search-input-group">
              <i class="fas fa-search"></i>
              <input type="text" id="leads-filter-input" placeholder="Search leads...">
            </div>
          </div>
          <div class="leads-actions">
            <div class="export-dropdown">
              <button class="btn-primary dropdown-toggle" id="export-btn">
                <i class="fas fa-download"></i>
                Export
                <i class="fas fa-chevron-down"></i>
              </button>
              <div class="dropdown-menu" id="export-menu">
                <button id="export-csv-btn"><i class="fas fa-file-csv"></i> Export CSV</button>
                <button id="export-json-btn"><i class="fas fa-file-code"></i> Export JSON</button>
                <button id="export-txt-btn"><i class="fas fa-file-alt"></i> Export TXT</button>
              </div>
            </div>
            <button id="clear-leads-btn" class="btn-danger">
              <i class="fas fa-trash"></i>
              Clear All
            </button>
          </div>
        </div>

        <div class="leads-stats">
          <div class="stat-card">
            <div class="stat-icon email"><i class="fas fa-envelope"></i></div>
            <div class="stat-info">
              <span class="stat-number" id="email-count">0</span>
              <span class="stat-label">Emails</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon phone"><i class="fas fa-phone"></i></div>
            <div class="stat-info">
              <span class="stat-number" id="phone-count">0</span>
              <span class="stat-label">Phones</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon score"><i class="fas fa-star"></i></div>
            <div class="stat-info">
              <span class="stat-number" id="avg-score">0</span>
              <span class="stat-label">Avg Score</span>
            </div>
          </div>
        </div>

        <div class="leads-table-container">
          <table class="leads-table">
            <thead>
              <tr>
                <th><input type="checkbox" id="select-all-leads"></th>
                <th>Type</th>
                <th>Value</th>
                <th>Score</th>
                <th>Source</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="leads-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- Filters Tab -->
      <div class="tab-panel" id="filters-tab">
        <div class="panel-header">
          <h2><i class="fas fa-filter"></i> Advanced Filters</h2>
          <p>Customize your search and lead filtering options</p>
        </div>

        <div class="filters-grid">
          <div class="filter-section">
            <h3>Search Filters</h3>
            <div class="filter-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="sector-filter">Sector</label>
                  <select id="sector-filter" multiple>
                    <option value="all">All Sectors</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="role-filter">Role</label>
                  <select id="role-filter" multiple>
                    <option value="all">All Roles</option>
                  </select>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="location-filter">Location</label>
                  <select id="location-filter" multiple>
                    <option value="all">All Locations</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="platform-filter">Platform</label>
                  <select id="platform-filter" multiple>
                    <option value="all">All Platforms</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <div class="filter-section">
            <h3>Lead Quality Filters</h3>
            <div class="filter-form">
              <div class="form-group">
                <label for="min-score">Minimum Score</label>
                <div class="range-input">
                  <input type="range" id="min-score" min="0" max="100" value="0">
                  <span class="range-value" id="min-score-value">0</span>
                </div>
              </div>
              <div class="form-group">
                <label>Lead Types</label>
                <div class="checkbox-group">
                  <label class="checkbox-item">
                    <input type="checkbox" id="filter-emails" checked>
                    <span class="checkmark"></span>
                    Email Addresses
                  </label>
                  <label class="checkbox-item">
                    <input type="checkbox" id="filter-phones" checked>
                    <span class="checkmark"></span>
                    Phone Numbers
                  </label>
                </div>
              </div>
            </div>
          </div>

          <div class="filter-section">
            <h3>Domain Filters</h3>
            <div class="filter-form">
              <div class="form-group">
                <label for="domain-whitelist">Allowed Domains</label>
                <textarea id="domain-whitelist" rows="4" placeholder="Enter allowed domains (one per line)&#10;e.g., company.com&#10;startup.io"></textarea>
              </div>
              <div class="form-group">
                <label for="domain-blacklist-filter">Blocked Domains</label>
                <textarea id="domain-blacklist-filter" rows="4" placeholder="Enter blocked domains (one per line)&#10;e.g., facebook.com&#10;linkedin.com"></textarea>
              </div>
            </div>
          </div>
        </div>

        <div class="filter-actions">
          <button id="apply-filters-btn" class="btn-primary">
            <i class="fas fa-check"></i>
            Apply Filters
          </button>
          <button id="reset-filters-btn" class="btn-outline">
            <i class="fas fa-undo"></i>
            Reset to Default
          </button>
        </div>
      </div>

      <!-- Settings Tab -->
      <div class="tab-panel" id="settings-tab">
        <div class="panel-header">
          <h2><i class="fas fa-sliders-h"></i> Settings</h2>
          <p>Configure crawling behavior and application preferences</p>
        </div>

        <div class="settings-grid">
          <div class="settings-section">
            <h3>Crawl Settings</h3>
            <div class="settings-form">
              <div class="form-group">
                <label for="crawl-depth">Crawl Depth</label>
                <select id="crawl-depth">
                  <option value="0">Landing Page Only</option>
                  <option value="1" selected>1 Level Deep</option>
                  <option value="2">2 Levels Deep</option>
                  <option value="3">3 Levels Deep</option>
                </select>
                <small>How deep to crawl into each website</small>
              </div>
              <div class="form-group">
                <label for="crawl-delay">Crawl Delay (seconds)</label>
                <input type="number" id="crawl-delay" min="1" max="10" value="2">
                <small>Delay between page visits to avoid rate limiting</small>
              </div>
              <div class="form-group">
                <label for="max-pages">Max Pages per Site</label>
                <input type="number" id="max-pages" min="1" max="50" value="10">
                <small>Maximum pages to crawl per website</small>
              </div>
            </div>
          </div>

          <div class="settings-section">
            <h3>Domain Management</h3>
            <div class="settings-form">
              <div class="form-group">
                <label for="domain-blacklist">Blacklisted Domains</label>
                <textarea id="domain-blacklist" rows="6" placeholder="Enter domains to exclude (one per line)&#10;e.g., facebook.com&#10;linkedin.com&#10;twitter.com"></textarea>
                <small>These domains will be skipped during crawling</small>
              </div>
            </div>
          </div>

          <div class="settings-section">
            <h3>Appearance</h3>
            <div class="settings-form">
              <div class="form-group">
                <label>Theme</label>
                <div class="radio-group">
                  <label class="radio-item">
                    <input type="radio" name="theme" value="light" checked>
                    <span class="radio-mark"></span>
                    Light
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="theme" value="dark">
                    <span class="radio-mark"></span>
                    Dark
                  </label>
                </div>
              </div>
              <div class="form-group">
                <label for="svg-input">Custom Icon (SVG)</label>
                <textarea id="svg-input" rows="4" placeholder="<svg>...</svg>"></textarea>
                <div class="icon-preview-container">
                  <img id="icon-preview" src="assets/icon.png" alt="Icon Preview">
                  <button id="generate-icon-btn" class="btn-secondary">
                    <i class="fas fa-magic"></i>
                    Apply Icon
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="settings-actions">
          <button id="save-settings-btn" class="btn-success">
            <i class="fas fa-save"></i>
            Save Settings
          </button>
          <button id="reset-settings-btn" class="btn-outline">
            <i class="fas fa-undo"></i>
            Reset to Default
          </button>
        </div>
      </div>
    </main>
  </div>

  <!-- Interactive Guide Overlay -->
  <div class="guide-overlay" id="guide-overlay">
    <div class="guide-backdrop"></div>
    <div class="guide-tooltip" id="guide-tooltip">
      <div class="guide-header">
        <div class="guide-step-indicator">
          <span class="guide-step-current" id="guide-step-current">1</span>
          <span class="guide-step-separator">/</span>
          <span class="guide-step-total" id="guide-step-total">8</span>
        </div>
        <button class="guide-close-btn" id="guide-close-btn">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="guide-content">
        <div class="guide-title" id="guide-title">Welcome to Lead Generator!</div>
        <div class="guide-description" id="guide-description">
          Let's take a quick tour to help you get started with finding leads efficiently.
        </div>
        <div class="guide-tip" id="guide-tip" style="display: none;">
          <i class="fas fa-lightbulb"></i>
          <span id="guide-tip-text"></span>
        </div>
      </div>
      <div class="guide-actions">
        <button class="guide-btn-secondary" id="guide-skip-btn">Skip Tour</button>
        <div class="guide-navigation">
          <button class="guide-btn-outline" id="guide-prev-btn" disabled>
            <i class="fas fa-chevron-left"></i>
            Previous
          </button>
          <button class="guide-btn-primary" id="guide-next-btn">
            Next
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Welcome Modal for First-Time Users -->
  <div class="welcome-modal" id="welcome-modal">
    <div class="welcome-backdrop"></div>
    <div class="welcome-content">
      <div class="welcome-header">
        <div class="welcome-icon">
          <i class="fas fa-search-dollar"></i>
        </div>
        <h2>Welcome to Lead Generator!</h2>
        <p>Your powerful tool for finding business leads and contact information</p>
      </div>
      
      <div class="welcome-features">
        <div class="welcome-feature">
          <div class="feature-icon">
            <i class="fas fa-database"></i>
          </div>
          <div class="feature-content">
            <h3>Thousands of Templates</h3>
            <p>Access pre-built search templates for IT jobs, business contacts, and more</p>
          </div>
        </div>
        
        <div class="welcome-feature">
          <div class="feature-icon">
            <i class="fas fa-robot"></i>
          </div>
          <div class="feature-content">
            <h3>Automated Crawling</h3>
            <p>Let the extension automatically search and extract contact information</p>
          </div>
        </div>
        
        <div class="welcome-feature">
          <div class="feature-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <div class="feature-content">
            <h3>Smart Lead Scoring</h3>
            <p>Get quality scores for email addresses to focus on the best leads</p>
          </div>
        </div>
      </div>
      
      <div class="welcome-actions">
        <button class="welcome-btn-secondary" id="welcome-skip-btn">
          Skip & Explore
        </button>
        <button class="welcome-btn-primary" id="welcome-start-guide-btn">
          <i class="fas fa-play"></i>
          Start Interactive Guide
        </button>
      </div>
      
      <div class="welcome-footer">
        <label class="welcome-checkbox">
          <input type="checkbox" id="welcome-dont-show-again">
          <span class="checkmark"></span>
          Don't show this again
        </label>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>